@tailwind base;
@tailwind components;
@tailwind utilities;

/* Layout stabilization for RTL/LTR switching */
* {
  /* Use logical properties for consistent RTL/LTR behavior */
  box-sizing: border-box;
}

/* Prevent layout shifts during language switching */
html, body, #root {
  contain: layout;
  transform: translateZ(0);
}

/* Ensure consistent text alignment */
[dir='rtl'] {
  text-align: start;
}

[dir='ltr'] {
  text-align: start;
}

/* Override Tailwind's directional utilities with logical properties */
.ml-2 { margin-inline-start: 0.5rem !important; margin-inline-start: 0 !important; }
.mr-2 { margin-inline-end: 0.5rem !important; margin-inline-end: 0 !important; }
.ml-3 { margin-inline-start: 0.75rem !important; margin-inline-start: 0 !important; }
.mr-3 { margin-inline-end: 0.75rem !important; margin-inline-end: 0 !important; }
.ml-4 { margin-inline-start: 1rem !important; margin-inline-start: 0 !important; }
.mr-4 { margin-inline-end: 1rem !important; margin-inline-end: 0 !important; }

.pl-2 { padding-inline-start: 0.5rem !important; padding-inline-start: 0 !important; }
.pr-2 { padding-inline-end: 0.5rem !important; padding-inline-end: 0 !important; }
.pl-3 { padding-inline-start: 0.75rem !important; padding-inline-start: 0 !important; }
.pr-3 { padding-inline-end: 0.75rem !important; padding-inline-end: 0 !important; }
.pl-4 { padding-inline-start: 1rem !important; padding-inline-start: 0 !important; }
.pr-4 { padding-inline-end: 1rem !important; padding-inline-end: 0 !important; }
.pl-10 { padding-inline-start: 2.5rem !important; padding-inline-start: 0 !important; }
.pr-10 { padding-inline-end: 2.5rem !important; padding-inline-end: 0 !important; }
.pl-12 { padding-inline-start: 3rem !important; padding-inline-start: 0 !important; }
.pr-12 { padding-inline-end: 3rem !important; padding-inline-end: 0 !important; }

.left-3 { inset-inline-start: 0.75rem !important; inset-inline-start: auto !important; }
.right-3 { inset-inline-end: 0.75rem !important; inset-inline-end: auto !important; }
.left-0 { inset-inline-start: 0 !important; inset-inline-start: auto !important; }
.right-0 { inset-inline-end: 0 !important; inset-inline-end: auto !important; }

.border-l { border-inline-start-width: 1px !important; }
.border-r { border-inline-end-width: 1px !important; }

/* Text alignment utilities using logical properties */
.text-inline-start { text-align: start !important; }
.text-inline-end { text-align: end !important; }

/* Enhanced checkbox styling for better visual feedback */
input[type="checkbox"]:checked {
  background-color: #2563eb;
  border-color: #2563eb;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e");
}

input[type="checkbox"]:focus {
  box-shadow: 0 0 0 2px #3b82f6;
}

input[type="checkbox"]:hover:not(:checked) {
  border-color: #60a5fa;
  background-color: #eff6ff;
}

/* Remove default underline from anchor links acting as buttons */
a.no-underline {
  text-decoration: none;
}

a.no-underline:hover {
  text-decoration: underline;
}

/* Enhanced link styling for better interactivity */
.auth-link {
  @apply text-blue-600 hover:text-blue-700 font-medium transition-all duration-200 hover:underline cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-md px-1 py-0.5 inline-block active:text-blue-800;
}

.auth-link:active {
  transform: translateY(1px);
}

/* Prevent layout shifts during language switching */
.layout-container, 
.main-container, 
.app-container,
.settings-container,
nav,
header,
main {
  position: relative;
  transform: translateZ(0);
  contain: layout;
}

/* Consistent text alignment for both directions */
[dir='rtl'] {
  text-align: start;
}

[dir='ltr'] {
  text-align: start;
}

/* Prevent element repositioning */
.preserve-position {
  position: relative !important;
  inset-inline-start: auto !important;
  inset-inline-end: auto !important;
}